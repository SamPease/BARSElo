# Static BARSElo Explorer

A fully static version of the BARSElo Explorer that can be hosted on any static web hosting service (GitHub Pages, Netlify, Vercel, etc.) without needing a Python server.

## Quick Start

### 1. Generate the data file

Run this command whenever your data changes:

```bash
python viz/export_static_data.py
```

This creates `static-site/data/elo_data.json` containing all your ELO data, player stats, team stats, and game history.

### 2. Test locally

**Important:** Browsers block local file access due to CORS security. You need to run a local web server:

```bash
cd static-site
python serve.py
# Then open http://localhost:8000 in your browser
```

Alternative methods:
```bash
# Using Python's built-in server (Python 3):
cd static-site
python -m http.server 8000

# Using Node.js (if you have it):
cd static-site
npx http-server
```

### 3. Deploy to the web

Upload the entire `static-site/` folder to your web host. For example:

**GitHub Pages:**
```bash
cd static-site
git init
git add .
git commit -m "Initial BARSElo site"
git branch -M main
git remote add origin https://github.com/YOUR_USERNAME/barselo-site.git
git push -u origin main
# Then enable GitHub Pages in repo settings
```

**Netlify:**
- Drag and drop the `static-site/` folder into Netlify
- Or connect your GitHub repo and set build directory to `static-site/`

**Any web host:**
- Upload the folder via FTP/SFTP
- The site is just HTML/JS/JSON - works anywhere!

## Features

✅ **Fully static** - No Python server needed  
✅ **Client-side routing** - Direct links to players/teams work (via URL hash)  
✅ **Interactive Plotly charts** - Same visualization quality as Dash  
✅ **Sortable tables** - Click column headers to sort  
✅ **Search** - Find players and teams by name  
✅ **Filtering** - Type to filter table rows  
✅ **Mobile responsive** - Works on all screen sizes  

## File Structure

```
static-site/
├── index.html           # Main app (all HTML/CSS/JS in one file)
├── data/
│   └── elo_data.json   # Generated by export_static_data.py
└── assets/             # (optional) Any additional assets
```

## Updating Your Data

Whenever you run a new ELO calculation:

```bash
# 1. Run your normal ELO calculation
python viz/calculate.py --model bt_mov -f

# 2. Export to static site
python viz/export_static_data.py

# 3. Upload just the data file to your host
# (You can use rsync, scp, or your host's file manager)
scp static-site/data/elo_data.json user@yourhost:/path/to/site/data/
```

## Browser Compatibility

Works in all modern browsers:
- Chrome/Edge (latest)
- Firefox (latest)
- Safari 12+
- Mobile browsers

## Size Considerations

The `elo_data.json` file size depends on your data:
- ~100 players, ~50 teams, ~500 games = ~200-300 KB
- Loads in < 1 second on most connections
- Plotly.js library (~3 MB) is cached by CDN

To reduce size, you could:
- Use gzip compression on your server (reduces JSON by ~70%)
- Reduce ELO history precision (fewer decimal places)
- Sample ELO history at lower frequency

## Advanced Customization

The `index.html` file contains all the code. You can customize:

- **Colors/styling**: Edit the `<style>` section
- **Chart appearance**: Modify the Plotly layout in `renderPlayerChart()` and `renderTeamChart()`
- **Table columns**: Add/remove columns in `showPlayersTab()` and `showTeamsTab()`
- **Add new features**: The data is all in `DATA` object after loading

## Comparison with Dash App

| Feature | Dash App | Static Site |
|---------|----------|-------------|
| Server needed | ✅ Python required | ❌ None |
| Hosting cost | $5-20/month | Free (many hosts) |
| Data updates | Auto-reloads | Re-export + upload |
| Performance | Server-side processing | Client-side (fast) |
| Offline use | ❌ | ✅ |
| Scalability | Limited by server | CDN-ready |
| Backend features | ✅ (Python) | ❌ (JS only) |

## Need Help?

Common issues:

**"Data won't load"** - Make sure you've run `export_static_data.py` first  
**"Charts don't show"** - Check browser console for errors, ensure Plotly CDN is accessible  
**"Links don't work after deploy"** - Some hosts need special config for hash routing (but most work fine)

## Next Steps

If you want to add more features to the static site:
- Date range filtering on charts
- ELO change calculations
- Head-to-head comparisons
- Export charts as images

All of these can be done client-side with JavaScript!
